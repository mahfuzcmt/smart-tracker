<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Sales Summary Report <small></small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#/dashboard"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Sales Report</li>
    </ol>
</section>
<section>
    <div class="col-md-12">
        <div class="col-md-4">
            <div class="form-group">
                <label>From Date</span></label>
                <div class="input-group">
                    <input id="fromDate" type="text" class="form-control" placeholder="Pick from date"
                           onclick="this.setSelectionRange(0, this.value.length)" data-ng-model="obj.fromDate"
                           bootstrap-datepicker data-date-format="yyyy-mm-dd"/>
                    <div class="input-group-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label>To Date</label>
                <div class="input-group">
                    <input id="toDate" type="text" class="form-control" placeholder="Pick to date"
                           onclick="this.setSelectionRange(0, this.value.length)" data-ng-model="obj.toDate"
                           bootstrap-datepicker data-date-format="yyyy-mm-dd"/>
                    <div class="input-group-addon">
                        <i class="glyphicon glyphicon-calendar"></i>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label>Shift</label>
                <select data-ng-model="obj.shift" ui-select2 class="form-control" style="padding: 0px;"
                        data-placeholder="Select a Shift" required>
                    <option></option>
                    <option ng-selected="{{shift.id === obj.shift}}"
                            data-ng-repeat="status in shiftList | orderBy:'name'" value="{{status.value}}">{{status.key}}
                    </option>
                </select>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label>Counter</label>
                <select data-ng-change="getRouteByCounterId(obj.counterId)" data-ng-model="obj.counterId" ui-select2
                        class="form-control" style="padding: 0px;"
                        data-placeholder="Select a Counter" required>
                    <option></option>
                    <option data-ng-repeat="counter in counterList | orderBy:'name'" value="{{counter.id}}">
                        {{counter.name}}
                    </option>
                </select>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label>Route</label>
                <select data-ng-model="obj.routeId" ui-select2 class="form-control" style="padding: 0px;"
                        data-placeholder="Select a route" required>
                    <option></option>
                    <option data-ng-repeat="route in routeList | orderBy:'name'" value="{{route.id}}">{{route.name}}
                    </option>
                </select>
            </div>
        </div>
        <div class="col-md-4">
            <div class="form-group">
                <label>Status</label>
                <select data-ng-model="obj.status" ui-select2 class="form-control" style="padding: 0px;"
                        data-placeholder="Select a status" required>
                    <option></option>
                    <option ng-selected="{{status.id === obj.status}}"
                            data-ng-repeat="status in statusList | orderBy:'name'" value="{{status.value}}">{{status.key}}
                    </option>
                </select>
            </div>
        </div>
        <div class="col-md-12" style="margin-top: 23px;">
            <div class="form-group">
                <button type="submit" class="btn btn-primary" data-ng-click="getData(obj)">Show Data</button>
                <button type="submit" class="btn btn-primary" data-ng-click="exportData(obj)">Export</button>
                <button type="submit" class="btn btn-primary" data-ng-click="exportData(obj, 'shiftWise')"></i> Export Summary</button>
                <button type="submit" class="btn btn-primary" data-ng-click="exportData(obj, '20&25')"></i> Export 20&25</button>
                <!--<button type="submit" class="btn btn-primary" data-ng-click="exportData(obj,'pdf')"><i class="fa fa-file-pdf-o" aria-hidden="true"></i> Export PDF</button>-->
            </div>
        </div>
    </div>
</section>
<section class="content">
    <div>
        <div>
            <label>Total Sales: <span>&#x9f3;</span></label> <span class="amount info">{{totalSales | number : 2}}</span>
            <label>Total Reversed: <span>&#x9f3;</span></label> <span class="amount red">{{totalReversed | number : 2}}</span>
            <label>Total Net Sales: <span>&#x9f3;</span></label> <span class="amount green">{{totalSuccess | number : 2}}</span>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header">
                    <div class="show-hide-animation">
                        <div class="col-md-6 pull-left">
                            <h5 data-ng-show="userList.length > 0">{{ pageItemText }}</h5>
                            <h5 data-ng-show="userList.length == 0">No history found</h5>
                        </div>
                        <div class="col-md-6 pull-right  text-right top-paginationBox">
                            <pagination data-ng-model="currentPage" data-total-items="dataListSize"
                                        data-boundary-links="true" data-max-size="maxPaginationSize"
                                        data-items-per-page="itemsPerPage"></pagination>
                        </div>
                    </div>
                </div>

                <div class="box-body table-responsive no-padding">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th class="text-right">#</th>
                            <th class="text-left">Counter</th>
                            <th class="text-left">Figure</th>
                            <th class="text-right">Total Sales</th>
                            <th class="text-right">Reversed</th>
                            <th class="text-right">Net Sales</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr data-ng-repeat="data in userList ">
                            <td class="text-right">{{$index + pageDataBegin}}</td>
                            <td class="text-left">{{data.counterName}}</td>
                            <td class="text-left">
									<span data-ng-repeat="fare in data.fareList">
										{{data.fareList[$index]}} <span>&#215;</span> {{data.salesByFareList[$index]}}
												=
										{{data.fareList[$index] * data.salesByFareList[$index] | number: 0}}
										<span data-ng-show="{{$index < data.fareList.length - 1}}">&</span>
									</span>
                            </td>
                            <td class="text-right"><span>&#x9f3;</span>{{data.totalSales | number: 2}}</td>
                            <td class="text-right"><span>&#x9f3;</span>{{data.totalRefund | number: 2}}</td>
                            <td class="text-right"><span>&#x9f3;</span>{{data.netSales | number: 2}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="show-hide-animation">
            <div class="col-md-6 pull-left">
                <h5 data-ng-show="userList.length > 0">{{ pageItemText }}</h5>
                <h5 data-ng-show="userList.length == 0">No history found</h5>
            </div>
            <div class="col-md-6 pull-right  text-right top-paginationBox">
                <pagination data-ng-model="currentPage" data-total-items="dataListSize"
                            data-boundary-links="true" data-max-size="maxPaginationSize"
                            data-items-per-page="itemsPerPage"></pagination>
            </div>
        </div>
    </div>
</section>



